<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>NHL Game Recaps</title>
    <link rel="stylesheet" href="css/main.css">

</head>
<body>
    <h1>NHL Game Recaps</h1>
    <div id="videos"></div>

    <!-- <button onclick="test()">Test</button> -->

    <script src="functions.js"></script>
    <script>
        const electron = require('electron');
        window.jQuery = window.$ = require('jquery'); //This takes the place of require for js. Electron handles importing differently.

        getGamesAccordingToDate(getOlderDate(1), function(gamesForTheDay){
            var videoWrapper = document.createElement("div");
            videoWrapper.className = "wrapper";
            videoWrapper.id = "videoWrapper1";
            document.getElementById("videos").appendChild(videoWrapper);
                gamesForTheDay.forEach(function(e){
                    getGameContent(e, function(videoURL, pictureURL){
                        var newDiv = document.createElement("div");
                        newDiv.className = "box " + e;
                        newDiv.id = "video" + e;
                        document.getElementById('videoWrapper1').appendChild(newDiv);
                        var newVideo = document.createElement("video");
                        newVideo.width = "300";
                        newVideo.height = "200";
                        newVideo.src = videoURL;
                        newVideo.poster = pictureURL;
                        newVideo.controls = true;
                        document.getElementById('video' + e).appendChild(newVideo);
                    });
                });
            });

        getGamesAccordingToDate(getOlderDate(2), function(gamesForTheDay){
            var videoWrapper = document.createElement("div");
            videoWrapper.className = "wrapper";
            videoWrapper.id = "videoWrapper2";
            videoWrapper.appendAfter(document.getElementById("videoWrapper1"));
            gamesForTheDay.forEach(function(e){
                getGameContent(e, function(videoURL, pictureURL){
                    var newDiv = document.createElement("div");
                    newDiv.className = "box " + e;
                    newDiv.id = "video" + e;
                    document.getElementById('videoWrapper2').appendChild(newDiv);
                    var newVideo = document.createElement("video");
                    newVideo.width = "300";
                    newVideo.height = "200";
                    newVideo.src = videoURL;
                    newVideo.poster = pictureURL;
                    newVideo.controls = true;
                    document.getElementById('video' + e).appendChild(newVideo);
                    
                });
            });
        });





        function test(){
            var newVideo = document.createElement("video");
            newVideo.width = "300";
            newVideo.height = "200";
            newVideo.src = videoURL;
            newVideo.poster = pictureURL;
            document.body.appendChild(newVideo);
        };



    </script>
</body>
</html>